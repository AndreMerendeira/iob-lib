def params_vh(params, top_module, out_dir):
    file2create = open(f"{out_dir}/{top_module}_params.vh", "w")
    file2create.write("//This file was generated by script param_conf.py\n\n")
    for parameter in params[:-1]:
        p_name = parameter['name'].upper()
        p_default = parameter['default']
        file2create.write(f"\tparameter {p_name} = {p_default},\n")
    parameter = params[-1]
    p_name = parameter['name'].upper()
    p_default = parameter['default']
    file2create.write(f"\tparameter {p_name} = {p_default}\n")

def conf_vh(params, top_module, out_dir):
    file2create = open(f"{out_dir}/{top_module}_conf.vh", "w")
    file2create.write("//This file was generated by script param_conf.py\n\n")
    core_prefix = f"{top_module}_".upper()
    fname = f"{core_prefix}CONF"
    file2create.write(f"`ifndef VH_{fname}_VH\n")
    file2create.write(f"`define VH_{fname}_VH\n\n")
    for parameter in params:
        p_name = parameter['name'].upper()
        p_default = parameter['default']
        file2create.write(f"`define {core_prefix}{p_name} ({p_default})\n")
    file2create.write(f"\n`endif // VH_{fname}_VH\n")

